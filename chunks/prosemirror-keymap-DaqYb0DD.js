import{r as $}from"./w3c-keyname-Bp0GZ_VH.js";import{r as k}from"./prosemirror-state-D-8NX-8X.js";var l={},y;function b(){if(y)return l;y=1,Object.defineProperty(l,"__esModule",{value:!0});var c=$(),h=k(),p=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function m(t){var e=t.split(/-(?!$)/),r=e[e.length-1];r=="Space"&&(r=" ");for(var a,i,f,u,n=0;n<e.length-1;n++){var s=e[n];if(/^(cmd|meta|m)$/i.test(s))u=!0;else if(/^a(lt)?$/i.test(s))a=!0;else if(/^(c|ctrl|control)$/i.test(s))i=!0;else if(/^s(hift)?$/i.test(s))f=!0;else if(/^mod$/i.test(s))p?u=!0:i=!0;else throw new Error("Unrecognized modifier name: "+s)}return a&&(r="Alt-"+r),i&&(r="Ctrl-"+r),u&&(r="Meta-"+r),f&&(r="Shift-"+r),r}function K(t){var e=Object.create(null);for(var r in t)e[m(r)]=t[r];return e}function o(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),r&&e.shiftKey&&(t="Shift-"+t),t}function g(t){return new h.Plugin({props:{handleKeyDown:d(t)}})}function d(t){var e=K(t);return function(r,a){var i=c.keyName(a),f,u=e[o(i,a)];if(u&&u(r.state,r.dispatch,r))return!0;if(i.length==1&&i!=" "){if(a.shiftKey){var n=e[o(i,a,!1)];if(n&&n(r.state,r.dispatch,r))return!0}if((a.shiftKey||a.altKey||a.metaKey||i.charCodeAt(0)>127)&&(f=c.base[a.keyCode])&&f!=i){var s=e[o(f,a)];if(s&&s(r.state,r.dispatch,r))return!0}}return!1}}return l.keydownHandler=d,l.keymap=g,l}var M=b();export{M as d,b as r};
